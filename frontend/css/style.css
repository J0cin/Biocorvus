/* --- VARIABLES Y ESTILOS GLOBALES --- */
:root {
    --font-family: "Zalando Sans Expanded", sans-serif;
    --color-background-start: #020211;
    --color-background-end: #19183B;
    --color-text-primary: #E7F2EF;
    --color-text-secondary: #A1C2BD;
    --color-border: rgba(161, 194, 189, 0.2);
    --hamburger-bar-color: #E7F2EF;
    --animation-timing: 200ms ease-in-out;
}

* { 
    margin: 0; 
    padding: 0; 
    box-sizing: border-box; 
}

body {
    font-family: var(--font-family);
    background: linear-gradient(to bottom, var(--color-background-start), var(--color-background-end));
    color: var(--color-text-primary);
    height: 100vh; 
    width: 100vw; 
    overflow: hidden;
}

/* --- LAYOUT Y ANIMACIÓN DEL SIDEBAR --- */
#app-layout { 
    display: flex; 
    height: 100vh; 
}

#app-sidebar {
    position: fixed;
    left: 0;
    top: 0;
    height: 100%;
    width: 280px;
    background: rgba(10, 10, 30, 0.8);
    backdrop-filter: blur(10px);
    border-right: 1px solid rgba(255, 255, 255, 0.1);
    z-index: 1001;
    transition: transform 0.45s cubic-bezier(0.23, 1, 0.32, 1);
}

#app-sidebar .sidebar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.25rem 1rem;
}

#app-layout.sidebar-collapsed #app-sidebar {
    transform: translateX(-100%);
}

#app-layout:not(.sidebar-collapsed) #main-content-wrapper {
    margin-left: 280px;
}

#main-content-wrapper {
    flex-grow: 1; 
    height: 100vh;
    width: 100%;
    overflow: hidden;
    transition: margin-left 0.45s cubic-bezier(0.23, 1, 0.32, 1);
}

#app-content { 
    height: 100%; 
    overflow-y: auto; 
    scroll-behavior: smooth; 
}

/* =====  HAMBURGUESA QUE SE MUEVE ===== */
#app-header {
    position: fixed;
    top: 25px;
    left: 25px;
    z-index: 1002;
    /* Añadimos la misma transición que el sidebar para un movimiento sincronizado */
    transition: transform 0.45s cubic-bezier(0.23, 1, 0.32, 1);
}

/*  la hamburguesa a la derecha */
#app-layout:not(.sidebar-collapsed) #app-header {
    transform: translateX(280px); /* El ancho exacto del sidebar */
}

.hamburger-menu { 
    display: flex; 
    flex-direction: column; 
    gap: 5px; 
    width: max-content; 
    cursor: pointer; 
}
.hamburger-menu::before, .hamburger-menu::after, .hamburger-menu input { 
    content: ""; width: 24px; height: 3px; 
    background-color: var(--hamburger-bar-color); border-radius: 999px; 
    transform-origin: left center; transition: all var(--animation-timing); 
}
.hamburger-menu input { appearance: none; padding: 0; margin: 0; outline: none; pointer-events: none; }
.hamburger-menu:has(input:checked)::before { transform: rotate(45deg) translate(2px, -3px); }
.hamburger-menu:has(input:checked)::after { transform: rotate(-45deg) translate(2px, 3px); }
.hamburger-menu:has(input:checked) input { opacity: 0; width: 0; }


/* --- MENÚ LATERAL --- */
.sidebar-header {
    padding: 10px 15px;
    margin-bottom: 30px;
}
.sidebar-header h3 {
    margin: 0;
    font-size: 1.5rem;
    font-weight: 700;
}
.sidebar-nav {
    display: flex;
    flex-direction: column;
    gap: 5px;
}
.nav-link {
    padding: 10px 15px;
    border-radius: 6px;
    text-decoration: none;
    color: var(--color-text-secondary);
    font-weight: 200;
    font-size: 1rem;
    transition: all 0.2s ease-in-out;
}
.nav-link:hover {
    background-color: rgba(255, 255, 255, 0.1);
    color: var(--color-text-primary);
}

/* ---  FONDO FIJA --- */
#hero-background {
    position: fixed; 
    top: 0; 
    left: 0; 
    width: 100%; 
    height: 100vh;
    z-index: 1; 
    pointer-events: none;
}

.stars {
    position: absolute; top: 0; left: 0; width: 1px; height: 1px;
    background: white;
    box-shadow: 2vw 5vh 1px white, 10vw 8vh 1px white, 15vw 15vh 0px white, 22vw 22vh 1px white, 28vw 12vh 1px white, 32vw 32vh 0px white, 38vw 18vh 1px white, 42vw 35vh 1px white, 48vw 25vh 1px white, 53vw 42vh 0px white, 58vw 15vh 1px white, 63vw 38vh 1px white, 68vw 28vh 1px white, 73vw 45vh 0px white, 78vw 32vh 1px white, 83vw 48vh 1px white, 88vw 20vh 1px white, 93vw 52vh 0px white, 98vw 35vh 1px white, 5vw 60vh 1px white, 12vw 65vh 1px white, 18vw 72vh 0px white, 25vw 78vh 1px white, 30vw 85vh 1px white, 35vw 68vh 0px white, 40vw 82vh 1px white, 45vw 92vh 1px white, 50vw 75vh 0px white, 55vw 88vh 1px white, 60vw 95vh 1px white, 65vw 72vh 0px white, 70vw 85vh 1px white, 75vw 78vh 1px white, 80vw 92vh 0px white, 85vw 82vh 1px white, 90vw 88vh 1px white, 95vw 75vh 0px white;
    animation: twinkle 12s infinite linear;
    z-index: 2;
}

.moon {
    position: absolute;
    top: 50%;
    left: 50%;
    width: min(90vw, 90vh);
    height: min(90vw, 90vh);
    background-color: #f0f0f0;
    border-radius: 50%;
    box-shadow: 0 0 60px 10px #ffffff, 0 0 100px 20px rgba(255, 255, 255, 0.7), inset -40px -20px 80px rgba(0, 0, 0, 0.2);
    transform: translate(-50%, -50%);
    transition: transform 0.8s cubic-bezier(0.25, 1, 0.5, 1), opacity 0.8s ease-out;
    z-index: 3;
}

#crow-container {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    display: flex; justify-content: center; align-items: center;
    opacity: 0; transition: opacity 1.5s ease-out; z-index: 4;
}

#crow-image {
    width: clamp(180px, 20vw, 280px); color: #000;
    transform: translateY(40px) scale(0.9);
    transition: transform 1.5s cubic-bezier(0.23, 1, 0.32, 1);
}


#hero {
    height: 100vh; 
    display: flex; 
    justify-content: center; 
    align-items: center;
    position: relative; 
    z-index: 5;
}

/* ===== TÍTULO FIJO ===== */
#main-title {
    font-size: clamp(3rem, 10vw, 8rem); 
    color: #FFFFFF; 
    font-weight: 700;
    text-shadow: 0 0 15px rgba(0, 0, 0, 0.8), 0 0 25px rgba(0, 0, 0, 0.6);
    
    /* Lo fijamos al centro de la pantalla */
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 5;
    
    /* La transición ahora será manejada por JavaScript para el efecto de scroll */
    transition: opacity 0.5s ease-out, transform 0.5s ease-out;
}

#tools-section {
    min-height: 100vh; 
    padding: 150px 40px 100px;
    position: relative; 
    z-index: 5; 
    text-align: center;
    background: transparent;
    
    /* =====  TRANSICIÓN SUAVE ===== */
    /* La sección de herramientas empieza ligeramente más abajo y transparente */
    transform: translateY(100px);
    opacity: 0;
    transition: opacity 0.8s ease-out, transform 0.8s ease-out;
}

/* Clase que añadirá JavaScript para hacerla visible */
#tools-section.is-visible {
    transform: translateY(0);
    opacity: 1;
}

#tools-section::before {
    content: ''; 
    position: absolute; 
    top: 0; 
    left: 0;
    width: 100%; 
    height: 100%;
    background: linear-gradient(to bottom, 
        rgba(25, 24, 59, 0) 0%, 
        rgba(25, 24, 59, 0.9) 40%, 
        var(--color-background-end) 70%
    );
    z-index: -1;
}

#tools-section h2 {
    font-size: 3.5rem; 
    margin-bottom: 3rem;
    color: var(--color-text-primary);
    text-shadow: 0 0 10px rgba(161, 194, 189, 0.5);
}

/* ===== CORRECCIÓN URGENTE: LAYOUT DE LAS TARJETAS ===== */
.tools-grid {
    display: flex;
    justify-content: center;
    align-items: flex-start; /* Alinea las tarjetas arriba */
    flex-wrap: wrap; /* Permite que las tarjetas pasen a la siguiente línea */
    max-width: 1400px; /* Aumenta el ancho máximo para más tarjetas */
    margin: 0 auto; /* Centra el contenedor */
}

.tool-card {
    position: relative;
    width: 300px;
    height: 380px;
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 30px;
    transition: 0.5s;
    text-decoration: none;
}

.tool-card::before {
    content: ' ';
    position: absolute;
    top: 0;
    left: 50px;
    width: 50%;
    height: 100%;
    background: #fff;
    border-radius: 8px;
    transform: skewX(15deg);
    transition: 0.5s;
}

.tool-card::after {
    content: '';
    position: absolute;
    top: 0;
    left: 50px;
    width: 50%;
    height: 100%;
    background: #fff;
    border-radius: 8px;
    transform: skewX(15deg);
    transition: 0.5s;
    filter: blur(30px);
}

.tool-card:nth-child(1)::before,
.tool-card:nth-child(1)::after {
    background: linear-gradient(315deg, #8e2de2, #4a00e0);
}
.tool-card:nth-child(2)::before,
.tool-card:nth-child(2)::after {
    background: linear-gradient(315deg, #03a9f4, #8e2de2);
}
.tool-card:nth-child(3)::before,
.tool-card:nth-child(3)::after {
    background: linear-gradient(315deg, #00c6ff, #0072ff);
}
.tool-card:nth-child(4)::before,
.tool-card:nth-child(4)::after {
    background: linear-gradient(315deg, #b22c83, #f42f8c);
}

.tool-card .content {
    position: relative;
    width: 100%;
    height: 100%;
    padding: 20px 30px;
    background: rgba(25, 24, 59, 0.15);
    backdrop-filter: blur(10px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    z-index: 1;
    transition: 0.5s;
    color: var(--color-text-primary);
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.tool-card .content h3 {
    font-size: 1.8em;
    color: #fff;
    margin-bottom: 10px;
    font-weight: 700;
}

.tool-card .content p {
    font-size: 1em;
    margin-bottom: 10px;
    line-height: 1.5em;
    color: var(--color-text-secondary);
    font-weight: 200;
}

.tool-card span {
    display: block;
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    z-index: 2;
    pointer-events: none;
}

.tool-card span::before {
    content: '';
    position: absolute;
    top: 0; left: 0;
    width: 0; height: 0;
    border-radius: 8px;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    opacity: 0;
    transition: 0.1s;
    animation: animate 4s ease-in-out infinite;
    box-shadow: 0 5px 15px rgba(0,0,0,0.08);
}

.tool-card span::after {
    content: '';
    position: absolute;
    bottom: 0; right: 0;
    width: 100%; height: 100%;
    border-radius: 8px;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    opacity: 0;
    transition: 0.5s;
    animation: animate 4s ease-in-out infinite;
    box-shadow: 0 5px 15px rgba(0,0,0,0.08);
    animation-delay: -2s;
}

@keyframes animate {
    0%, 100% { transform: translateY(10px); }
    50% { transform: translateY(-10px); }
}

.tool-card:hover::before,
.tool-card:hover::after {
    transform: skewX(0deg);
    left: 20px;
    width: calc(100% - 40px);
}

.tool-card:hover .content {
    transform: translateY(-20px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
}

.tool-card:hover span::before {
    top: -50px; left: 50px;
    width: 100px; height: 100px;
    opacity: 1;
}

.tool-card:hover span::after {
    bottom: -50px; right: 50px;
    width: 100px; height: 100px;
    opacity: 1;
}

/* --- Chatbot Styles (sin cambios) --- */
#chatbot-container {
    position: fixed;
    bottom: 30px;
    right: 30px;
    z-index: 1000;
}

#chatbot-toggle-btn {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: linear-gradient(135deg, #5A88FF 0%, #AA78FF 100%);
    border: none;
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    box-shadow: 0 5px 15px rgba(90, 136, 255, 0.3);
    transition: transform 0.3s ease, background-color 0.3s ease;
}
#chatbot-toggle-btn:hover {
    transform: scale(1.1);
}
#chatbot-toggle-btn svg {
    width: 30px;
    height: 30px;
    fill: #FFFFFF;
    transition: transform 0.3s ease, opacity 0.3s ease;
    position: absolute;
}
#chatbot-toggle-btn .icon-close {
    opacity: 0;
    transform: rotate(-90deg) scale(0.5);
}
#chatbot-toggle-btn.active .icon-open {
    opacity: 0;
    transform: rotate(90deg) scale(0.5);
}
#chatbot-toggle-btn.active .icon-close {
    opacity: 1;
    transform: rotate(0) scale(1);
}

#chat-widget {
    position: absolute;
    bottom: 80px;
    right: 0;
    width: 350px;
    height: 500px;
    background-color: var(--color-surface, #1a1a2e);
    border: 1px solid var(--color-border);
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    display: flex;
    flex-direction: column;
    overflow: hidden;
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.3s ease, transform 0.3s ease;
    pointer-events: none;
}
#chat-widget.show {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
}

.chat-header {
    padding: 15px 20px;
    background-color: rgba(0,0,0,0.1);
    border-bottom: 1px solid var(--color-border);
    flex-shrink: 0;
}
.chat-header h3 { margin: 0; font-size: 1.1em; }
.chat-header p { margin: 2px 0 0; font-size: 0.8em; color: var(--color-text-secondary); }

.chat-messages {
    flex-grow: 1;
    padding: 20px;
    overflow-y: auto;
}
.message {
    max-width: 85%;
    padding: 10px 15px;
    border-radius: 12px;
    margin-bottom: 10px;
    line-height: 1.4;
    word-wrap: break-word;
}
.system-message {
    background-color: rgba(161, 194, 189, 0.1);
    color: var(--color-text-secondary);
    align-self: flex-start;
    border-top-left-radius: 0;
}
.user-message {
    background-color: var(--color-primary, #5A88FF);
    color: var(--color-button-hover-text, #fff);
    align-self: flex-end;
    margin-left: auto;
    border-top-right-radius: 0;
}

.chat-input-area {
    display: flex;
    padding: 15px;
    border-top: 1px solid var(--color-border);
    flex-shrink: 0;
    gap: 10px;
}
#chat-options-container {
    flex-direction: column;
    align-items: stretch;
    padding: 15px;
    gap: 10px;
    background-color: var(--color-background, #020211);
}

.option-btn {
    padding: 12px 15px;
    border: 1px solid var(--color-border);
    background-color: var(--color-surface, #1a1a2e);
    color: var(--color-text-secondary);
    border-radius: 8px;
    cursor: pointer;
    text-align: left;
    transition: background-color 0.2s, color 0.2s;
    font-family: var(--font-family);
    font-size: 0.9em;
    width: 100%;
}

.option-btn:hover {
    background-color: rgba(161, 194, 189, 0.1);
    color: var(--color-text-primary);
    border-color: var(--color-primary, #5A88FF);
}

.option-btn.back-btn {
    margin-top: 10px;
    text-align: center;
    color: var(--color-primary, #5A88FF);
    font-weight: bold;
}


.social-links-container {
    width: 100%;
    margin-top: 4rem; 
    padding-bottom: 4rem;
}

.social-icons {
    display: flex;
    justify-content: center;
    padding: 0;
    margin: 0;
}

.social-icons li {
    list-style: none;
}

.social-icons li a {
    width: 70px; 
    height: 70px;
    background-color: rgba(255, 255, 255, 0.9); 
    text-align: center;
    line-height: 70px;
    font-size: 30px;
    margin: 0 15px;
    display: block;
    border-radius: 50%;
    position: relative;
    overflow: hidden;
    border: 3px solid rgba(255, 255, 255, 0.8);
    z-index: 1;
    transition: transform 0.3s ease;
}

.social-icons li a:hover {
    transform: translateY(-5px); /* Ligero efecto de elevación */
}

.social-icons li a .icon {
    position: relative;
    color: #19183B; 
    transition: .5s;
    z-index: 3;
}

.social-icons li a:hover .icon {
    color: #fff; /* El icono se vuelve blanco al pasar el ratón */
    transform: rotateY(360deg);
}

.social-icons li a:before {
    content: "";
    position: absolute;
    top: 100%;
    left: 0;
    width: 100%;
    height: 100%;
    transition: .5s;
    z-index: 2;
}

.social-icons li a:hover:before {
    top: 0; /* El color sube para llenar el círculo */
}

/* Color para LinkedIn */
.social-icons li:nth-child(1) a:before {
    background: #0077b5;
}

/* Color para GitHub */
.social-icons li:nth-child(2) a:before {
    background: #333;
}